language: java

jdk:
  - openjdk8
  - oraclejdk9

matrix:
  allow_failures:
    - jdk: oraclejdk9

branches:
  only:
    - release/*

cache:
  directories:
    - .autoconf
    - $HOME/.m2

after_success:
  - mvn clean test -Pcoveralls jacoco:report coveralls:report
  - cd struqt-unique-id && mvn com.gavinmogan:codacy-maven-plugin:coverage -DcoverageReportFile=target/site/jacoco/jacoco.xml -DapiToken= -DprojectToken=${CODACY_PROJECT_TOKEN} && cd ..
